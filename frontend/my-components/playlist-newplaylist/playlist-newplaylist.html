<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="playlist-newplaylist">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <h2>Hello [[prop1]]!</h2>
  <div id="uploadForm">
      <paper-input id="title" label="Tittel" value="{{title}}"></paper-input>
      <paper-input id="description" label="Beskrivelse" value="{{description}}"></paper-input>

      <canvas id="cv" height="400" width="400"></canvas><br>
      <paper-button raised on-click="getThumbnail">Velg thumbnail</paper-button>
      <paper-button raised on-click="upload">Last opp</paper-button>

      <paper-dialog id="setThumbnailDialog">
        <h2>Sett et bilde som thumbnail</h2>
        <p>Velg et bilde fra videoen som thumbnail.<br /><br />
          Spill/Spol igjennom videoen til du er der du vil ha thumbnail, og klikk p√• knappen "Sett som thumbnail".
        </p>
        <video id="player" controls></video>
        <div class="buttons">
          <paper-button autofocus dialog-confirm on-click="setThumbnail">Sett som thumbnail</paper-button>
        </div>
      </paper-dialog>
      <paper-dialog id="resultDialog">
          <h2>[[responseStatus]].</h2>
          <p>[[responseMessage]]</p>
          <div class="buttons">
            <paper-button autofocus dialog-confirm>OK</paper-button>
          </div>
      </paper-dialog>
    </div>
  </template>

  <script>
    /**
     * `playlist-newplaylist`
     * Element to make a new playlist
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class PlaylistNewplaylist extends Polymer.Element {
      static get is() { return 'playlist-newplaylist'; }
      static get properties() {
        return {
          playlistURL : {
            type: String,
            value: window.Polymer.apiBaseURL+'/playlist/add.php'
          },
          title: String,
          description: String,
          thumbnail: String,
          responseMessage: String,
          responseStatus: {
            type: String,
            value: ''
          }
        };
      }
    }

    window.customElements.define(PlaylistNewplaylist.is, PlaylistNewplaylist);
  </script>
</dom-module>
